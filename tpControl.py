import tpNameConvention as tpName
import pymel.core as pm
import maya.cmds as mc
import json
import os

"""
DEVELOPMENT
    v001
        transfer all to pymel
        
"""


class Control:
    def __init__(self, **kwargs):
        self.name = kwargs['name']
        # self.scale = kwargs['scale']
        # self.prefix = kwargs['prefix']
        # self.suffix = kwargs['suffix']
        # self.index = kwargs['index']
        # self.type = kwargs['type']
        # self.child = kwargs['child']

        self.transform = mc.circle(name=self.name, ch=0)
        self.offset_grp_list = []

    def control(self):
        """
        :return control name:
        """

        shape = ControlShapeLib()
        # shape.arrow()
        return shape

    def transform_match_position(self, target, **kwargs):
        if 't' in kwargs:
            target_translate = mc.xform(target, q=True, t=True)
            mc.xform(self.transform, t=target_translate)

        if 'r' in kwargs:
            target_rotate = mc.xform(target, q=True, ro=True)
            mc.xform(self.control, ro=target_rotate)

        if 's' in kwargs:
            target_scale = mc.xform(target, q=True, s=True)
            mc.xform(self.control, s=target_scale)

    def shape_match_position(self, target, **kwargs):
        temp_transform = mc.group(name='temp_transform', empty=True)
        shapes = self.shapes_list()

        mc.parent(shapes, temp_transform, r=True, s=True)

        if 't' in kwargs:
            target_position = mc.xform(target, q=True, t=True, ws=True)
            mc.xform(temp_transform, t=target_position, ws=True)
        if 'r' in kwargs:
            target_position = mc.xform(target, q=True, t=True, ws=True)
            mc.xform(temp_transform, t=target_position, ws=True)
        if 's' in kwargs:
            target_position = mc.xform(target, q=True, t=True, ws=True)
            mc.xform(temp_transform, t=target_position, ws=True)

        for shape in shapes:
            transfer_shape(shape, self.transform)

    def set_shape_type(self, shape_type):
        """
        :return:
        """
        pass

    def shapes_list(self):
        shapes = mc.listRelatives(self.transform, s=True)
        return shapes

    def constraint_target(self, target, **kwargs):
        pass

    def set_shape_position(self, pointer):
        pass

    def shape_type(self):
        pass

    def add_index(self, n):
        pass

    def change_index(self):
        pass

    def change_prefix(self):
        pass

    def offset_grp(self):
        pass

    def add_offset_grp(self):
        pass

    def negate_grp(self):
        pass

    @property
    def position(self):
        return

    @position.setter
    def position(self, value):
        pass

    def constraint_to(self):
        pass

    def constraint_as_master(self):
        pass

    def connect(self):
        pass

    def transform_node(self):
        pass

    def set_color(self):
        pass


class ControlShapeLib:

    def __init__(self, prefix='', name='ctrlLib', index='', suffix='crv'):

        self.curve_dict = {
            'arrow': {
                'shape_01': {
                    'p': [
                        (-1.0, 0.0, 0.0), (-1.0, 0.0, 2.0), (1.0, 0.0, 2.0),
                        (1.0, 0.0, 0.0), (2.0, 0.0, 0.0), (0.0, 0.0, -2.0),
                        (-2.0, 0.0, 0.0), (-1.0, 0.0, 0.0)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1, 2, 3, 4, 5, 6, 7]}
            },

            'cross': {
                'shape_01': {
                    'p': [
                        (11.65040520317079, 0.0, -1.0753491255960874),
                        (11.260327870011457, 0.0, -1.0753491255960874),
                        (10.919827839642535, 0.0, -0.8669835460599025),
                        (10.731345094628578, 0.0, -0.5561779839591772),
                        (8.827645335077547, 0.0, -0.7404428130644156),
                        (1.7165524628499949, 0.0, -0.7404428130644156),
                        (0.7006951136854465, 0.0, -0.7404428130644156),
                        (0.7006951136854465, 0.0, -1.7563012592434397),
                        (0.7006951136854465, 3.552713678800501e-15, -8.867401810671094),
                        (0.7006951136854465, 3.552713678800501e-15, -9.883260256850125),
                        (1.1144722701987622, 3.552713678800501e-15, -10.134188373311648),
                        (1.391870513759761, 3.552713678800501e-15, -10.587497938965694),
                        (1.391870513759761, 3.552713678800501e-15, -11.106800167630926),
                        (1.391870513759761, 3.552713678800501e-15, -11.897477970132908),
                        (0.7509301031230269, 3.552713678800501e-15, -12.538418380769645),
                        (-0.03974769937895495, 3.552713678800501e-15, -12.538418380769645),
                        (-0.8304255018809439, 3.552713678800501e-15, -12.538418380769645),
                        (-1.471365912517678, 3.552713678800501e-15, -11.897477970132908),
                        (-1.471365912517678, 3.552713678800501e-15, -11.106800167630926),
                        (-1.471365912517678, 3.552713678800501e-15, -10.587547305110977),
                        (-1.1939775421857295, 3.552713678800501e-15, -10.134237739456932),
                        (-0.78023987858864, 3.552713678800501e-15, -9.883260256850125),
                        (-0.78023987858864, 3.552713678800501e-15, -8.867401810671094),
                        (-0.78023987858864, 0.0, -1.7563012592434397),
                        (-0.78023987858864, 0.0, -0.7404428130644156),
                        (-1.7960928396952713, 0.0, -0.7404428130644156),
                        (-8.907154995122445, 0.0, -0.7404428130644156),
                        (-11.001958686483563, 0.0, -0.4807034302220181),
                        (-11.164895964918708, 0.0, -0.7493320062227404),
                        (-11.459189405705198, 0.0, -0.9294219265576693),
                        (-11.796332402209199, 0.0, -0.9294219265576693),
                        (-12.309648927343797, 0.0, -0.9294219265576693),
                        (-12.72575432876686, 0.0, -0.5133165251346163),
                        (-12.72575432876686, 0.0, -1.7763568394002505e-14),
                        (-12.72575432876686, 0.0, 0.5133165251345808),
                        (-12.309648927343797, 0.0, 0.9294219265576551),
                        (-11.796332402209199, 0.0, 0.9294219265576551),
                        (-11.459221454737152, 0.0, 0.9294219265576551),
                        (-11.164928013950659, 0.0, 0.7493320062227262),
                        (-11.00199073551551, 0.0, 0.4807354792539478),
                        (-8.907198876195322, 0.0, 0.7404921792096708),
                        (-1.7960983247676712, 0.0, 0.7404921792096708),
                        (-0.78023987858864, 0.0, 0.7404921792096708),
                        (-0.78023987858864, 0.0, 1.7563451403163022),
                        (-0.78023987858864, -3.552713678800501e-15, 8.86740729574348),
                        (-0.78023987858864, -3.552713678800501e-15, 9.883260256850118),
                        (-1.194026908331006, -3.552713678800501e-15, 10.134188373311627),
                        (-1.471415278662958, -3.552713678800501e-15, 10.587497938965694),
                        (-1.471415278662958, -3.552713678800501e-15, 11.106800167630926),
                        (-1.471415278662958, -3.552713678800501e-15, 11.8974779701329),
                        (-0.830474868026224, -3.552713678800501e-15, 12.538418380769645),
                        (-0.03979706552423856, -3.552713678800501e-15, 12.538418380769645),
                        (0.7508807369777433, -3.552713678800501e-15, 12.538418380769645),
                        (1.3918211476144808, -3.552713678800501e-15, 11.8974779701329),
                        (1.3918211476144808, -3.552713678800501e-15, 11.106800167630926),
                        (1.3918211476144808, -3.552713678800501e-15, 10.587547305110963),
                        (1.114422904053475, -3.552713678800501e-15, 10.134237739456903),
                        (0.7006951136854465, -3.552713678800501e-15, 9.883260256850118),
                        (0.7006951136854465, -3.552713678800501e-15, 8.86740729574348),
                        (0.7006951136854465, 0.0, 1.7563451403163022),
                        (0.7006951136854465, 0.0, 0.7404921792096708),
                        (1.7165524628499949, 0.0, 0.7404921792096708),
                        (8.827645335077547, 0.0, 0.7404921792096708),
                        (10.731345094628578, 0.0, 0.556215064963471),
                        (10.919864920646871, 0.0, 0.866983546059874),
                        (11.260364951015786, 0.0, 1.075349125596059),
                        (11.65040520317079, 0.0, 1.075349125596059),
                        (12.244316817137067, 0.0, 1.075349125596059),
                        (12.72575432876686, 0.0, 0.5939116139662737),
                        (12.72575432876686, 0.0, -1.7763568394002505e-14),
                        (12.72575432876686, 0.0, -0.593911613966295),
                        (12.244316817137067, 0.0, -1.0753491255960874),
                        (11.65040520317079, 0.0, -1.0753491255960874)],
                    'per': False,
                    'd': 3,
                    'k': [
                        0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4,
                        5, 5, 5, 6, 6, 6, 7, 7, 7, 8, 8, 8, 9, 9, 9,
                        10, 10, 10, 11, 11, 11, 12, 12, 12, 13, 13, 13,
                        14, 14, 14, 15, 15, 15, 16, 16, 16, 17, 17, 17,
                        18, 18, 18, 19, 19, 19, 20, 20, 20, 21, 21, 21,
                        22, 22, 22, 23, 23, 23, 24, 24, 24]}
            },

            'crown': {
                'shape_01': {
                    'p': [
                        (10.235979856897208, 0.5387466956416631, -5.064001608160172),
                        (10.151485877817008, 0.5387466956416631, -5.062031610699659),
                        (9.56002041972143, -0.5387466956416631, -5.048241451174565),
                        (9.47552644064123, -0.5387466956416631, -5.046271453714052),
                        (8.581458580479284, -0.5387466956416631, -6.782167046977893),
                        (7.226633650695048, -0.5387466956416631, -8.241302021399537),
                        (5.569970571620038, -0.5387466956416631, -9.259395857943009),
                        (5.575918387952802, -0.5387466956416631, -9.334794752747538),
                        (5.617553637591014, 0.5387466956416667, -9.862593802347586),
                        (5.623501453923778, 0.5387466956416667, -9.937992697152108),
                        (5.0018396866720405, 0.5387466956416667, -10.290595824653057),
                        (4.344093509091591, 0.5387466956416667, -10.585980197725444),
                        (3.656702513277194, 0.5387466956416667, -10.818273589216776),
                        (3.6060751545400915, 0.5387466956416667, -10.765222345604261),
                        (3.251679086872498, -0.5387466956416631, -10.393858865656984),
                        (3.201051728135395, -0.5387466956416631, -10.34080762204447),
                        (2.1905747659419728, -0.5387466956416631, -10.658773119819454),
                        (1.115474936823345, -0.5387466956416631, -10.830869090935291),
                        (-7.092061794722326e-06, -0.5387466956416631, -10.830869090935291),
                        (-0.9057626700346137, -0.5387466956416631, -10.830869090935291),
                        (-1.7847953592262602, -0.5387466956416631, -10.717013131144075),
                        (-2.6244812896710616, -0.5387466956416631, -10.504322198408392),
                        (-2.671915676524174, -0.5387466956416631, -10.559882430786612),
                        (-3.0039606536334578, 0.5387466956416667, -10.948809057905049),
                        (-3.05139504048657, 0.5387466956416667, -11.004369290283268),
                        (-3.7515233792550635, 0.5387466956416667, -10.810585794248926),
                        (-4.424716067389001, 0.5387466956416667, -10.552803532725871),
                        (-5.063966147851277, 0.5387466956416667, -10.23594439658832),
                        (-5.062219942102283, 0.5387466956416667, -10.160900101326686),
                        (-5.049996344699226, -0.5387466956416631, -9.635583280441136),
                        (-5.048250138950232, -0.5387466956416631, -9.560538985179509),
                        (-6.768344618571698, -0.5387466956416631, -8.633166802905958),
                        (-8.202614824398106, -0.5387466956416631, -7.245987887288454),
                        (-9.19059576663028, -0.5387466956416631, -5.564601880853754),
                        (-9.273642979575483, -0.5387466956416631, -5.571158032402327),
                        (-9.854980944515814, 0.5387466956416631, -5.617051683301884),
                        (-9.938028157461018, 0.5387466956416631, -5.623607834850457),
                        (-10.290560364344165, 0.5387466956416631, -5.001875146980954),
                        (-10.58594473741656, 0.5387466956416631, -4.344128969400483),
                        (-10.818238128907884, 0.5387466956416631, -3.6568088942038735),
                        (-10.754304619323518, 0.5387466956416631, -3.5957862528671605),
                        (-10.306764298159566, -0.5387466956416631, -3.168622271417508),
                        (-10.242830788575203, -0.5387466956416631, -3.107599630080795),
                        (-10.508995867120388, -0.5387466956416631, -2.1760005789872743),
                        (-10.654581711308394, -0.5387466956416631, -1.1934237878302874),
                        (-10.654581711308394, -0.5387466956416631, -0.17636539230646164),
                        (-10.654581711308394, -0.5387466956416631, 0.7370779806342078),
                        (-10.539193866173035, -0.5387466956416631, 1.6235857029403284),
                        (-10.32297108667168, -0.5387466956416631, 2.469654488985743),
                        (-10.39867730108004, -0.5387466956416631, 2.534286165670114),
                        (-10.92862761556602, 0.5387466956416631, 2.9867137193697637),
                        (-11.004333829974383, 0.5387466956416631, 3.0513453960541277),
                        (-10.810621254557828, 0.5387466956416631, 3.7514879189461716),
                        (-10.55276807241698, 0.5387466956416631, 4.424680607080102),
                        (-10.235979856897215, 0.5387466956416631, 5.063930687542385),
                        (-10.130684280632012, 0.5387466956416631, 5.061475282707608),
                        (-9.393605770078961, -0.5387466956416667, 5.044287227875511),
                        (-9.288310193813759, -0.5387466956416667, 5.041831823040734),
                        (-8.391901953264908, -0.5387466956416667, 6.633886219314075),
                        (-7.1000970844439895, -0.5387466956416667, 7.973335559162624),
                        (-5.543446260568659, -0.5387466956416667, 8.923629285104123),
                        (-5.552341193102345, -0.5387466956416667, 9.03633520381678),
                        (-5.614606521390096, 0.5387466956416596, 9.825286778439466),
                        (-5.623501453923781, 0.5387466956416596, 9.937992697152122),
                        (-5.001839686672065, 0.5387466956416596, 10.290581640529492),
                        (-4.344164429709375, 0.5387466956416596, 10.585980197725451),
                        (-3.6568443545127725, 0.5387466956416596, 10.818202668598989),
                        (-3.5769207695409566, 0.5387466956416596, 10.734477776527367),
                        (-3.017448481543612, -0.5387466956416667, 10.148395996710402),
                        (-2.937524896571796, -0.5387466956416667, 10.06467110463878),
                        (-2.0040677252923462, -0.5387466956416667, 10.331999281315642),
                        (-1.0193491314782452, -0.5387466956416667, 10.47813830632236),
                        (-7.092061794722326e-06, -0.5387466956416667, 10.47813830632236),
                        (0.8160055361665552, -0.5387466956416667, 10.47813830632236),
                        (1.609493776186552, -0.5387466956416667, 10.383317440344502),
                        (2.372925858389463, -0.5387466956416667, 10.209618663266713),
                        (2.4483089932143027, -0.5387466956416667, 10.297923405434528),
                        (2.9759977215381763, 0.5387466956416596, 10.916064548115461),
                        (3.051380856363016, 0.5387466956416596, 11.004369290283268),
                        (3.7515233792550386, 0.5387466956416596, 10.810571610125375),
                        (4.424716067388983, 0.5387466956416596, 10.552803532725864),
                        (5.063895227233479, 0.5387466956416596, 10.23594439658832),
                        (5.061247550646554, 0.5387466956416596, 10.122168375255118),
                        (5.042713576244813, -0.5387466956416667, 9.325725985978384),
                        (5.040065899657895, -0.5387466956416667, 9.211949964645182),
                        (6.647495885866908, -0.5387466956416667, 8.347200687875347),
                        (8.005370402215865, -0.5387466956416667, 7.080728663727033),
                        (8.983918902282715, -0.5387466956416667, 5.548190849898429),
                        (9.089929981625572, -0.5387466956416667, 5.556554671116768),
                        (9.832017078118147, 0.5387466956416631, 5.615102172396551),
                        (9.93802815746101, 0.5387466956416631, 5.623465993614889),
                        (10.290546180220593, 0.5387466956416631, 5.001804226363166),
                        (10.586015658034347, 0.5387466956416631, 4.3440580487826885),
                        (10.81823812890787, 0.5387466956416631, 3.656737973586086),
                        (10.74537028684061, 0.5387466956416631, 3.587187607242317),
                        (10.235288834198405, -0.5387466956416631, 3.1003287832403963),
                        (10.162420992131137, -0.5387466956416631, 3.030778416896627),
                        (10.481563772161335, -0.5387466956416631, 2.018500071011484),
                        (10.654581711308394, -0.5387466956416631, 0.9413860963477667),
                        (10.654581711308394, -0.5387466956416631, -0.17636539230646164),
                        (10.654581711308394, -0.5387466956416631, -0.9846902255669683),
                        (10.561491308404454, -0.5387466956416631, -1.7709020102022812),
                        (10.390983959126983, -0.5387466956416631, -2.5277668431983464),
                        (10.459133263276838, -0.5387466956416631, -2.5859432322041194),
                        (10.936184525824528, 0.5387466956416631, -2.993183191171905),
                        (11.004333829974383, 0.5387466956416631, -3.051359580177678),
                        (10.810621254557814, 0.5387466956416631, -3.751558839563952),
                        (10.552768072416965, 0.5387466956416631, -4.4247515276978895),
                        (10.235979856897208, 0.5387466956416631, -5.064001608160172)],
                    'per': False,
                    'd': 3,
                    'k': [
                        0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4,
                        4, 5, 5, 5, 6, 6, 6, 7, 7, 7, 8, 8, 8, 9,
                        9, 9, 10, 10, 10, 11, 11, 11, 12, 12, 12,
                        13, 13, 13, 14, 14, 14, 15, 15, 15, 16, 16,
                        16, 17, 17, 17, 18, 18, 18, 19, 19, 19, 20,
                        20, 20, 21, 21, 21, 22, 22, 22, 23, 23, 23,
                        24, 24, 24, 25, 25, 25, 26, 26, 26, 27, 27,
                        27, 28, 28, 28, 29, 29, 29, 30, 30, 30, 31,
                        31, 31, 32, 32, 32, 33, 33, 33, 34, 34, 34,
                        35, 35, 35, 36, 36, 36]}
            },

            'cube': {
                'shape_01': {
                    'p': [
                        (-0.5692978297614414, 0.5692978297614414, -0.5692978297614414),
                        (-0.5692978297614414, 0.5692978297614414, 0.5692978297614414),
                        (0.5692978297614414, 0.5692978297614414, 0.5692978297614414),
                        (0.5692978297614414, 0.5692978297614414, -0.5692978297614414),
                        (-0.5692978297614414, 0.5692978297614414, -0.5692978297614414),
                        (-0.5692978297614414, -0.5692978297614414, -0.5692978297614414),
                        (0.5692978297614414, -0.5692978297614414, -0.5692978297614414),
                        (0.5692978297614414, 0.5692978297614414, -0.5692978297614414),
                        (0.5692978297614414, 0.5692978297614414, 0.5692978297614414),
                        (0.5692978297614414, -0.5692978297614414, 0.5692978297614414),
                        (0.5692978297614414, -0.5692978297614414, -0.5692978297614414),
                        (-0.5692978297614414, -0.5692978297614414, -0.5692978297614414),
                        (-0.5692978297614414, -0.5692978297614414, 0.5692978297614414),
                        (0.5692978297614414, -0.5692978297614414, 0.5692978297614414),
                        (0.5692978297614414, 0.5692978297614414, 0.5692978297614414),
                        (-0.5692978297614414, 0.5692978297614414, 0.5692978297614414),
                        (-0.5692978297614414, -0.5692978297614414, 0.5692978297614414)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]}
            },

            'cube_on_base': {
                'shape_01': {
                    'p': [
                        (-0.5692978297614414, 1.1385956595228828, -0.5692978297614414),
                        (-0.5692978297614414, 1.1385956595228828, 0.5692978297614414),
                        (0.5692978297614414, 1.1385956595228828, 0.5692978297614414),
                        (0.5692978297614414, 1.1385956595228828, -0.5692978297614414),
                        (-0.5692978297614414, 1.1385956595228828, -0.5692978297614414),
                        (-0.5692978297614414, 0.0, -0.5692978297614414),
                        (0.5692978297614414, 0.0, -0.5692978297614414),
                        (0.5692978297614414, 1.1385956595228828, -0.5692978297614414),
                        (0.5692978297614414, 1.1385956595228828, 0.5692978297614414),
                        (0.5692978297614414, 0.0, 0.5692978297614414),
                        (0.5692978297614414, 0.0, -0.5692978297614414),
                        (-0.5692978297614414, 0.0, -0.5692978297614414),
                        (-0.5692978297614414, 0.0, 0.5692978297614414),
                        (0.5692978297614414, 0.0, 0.5692978297614414),
                        (0.5692978297614414, 1.1385956595228828, 0.5692978297614414),
                        (-0.5692978297614414, 1.1385956595228828, 0.5692978297614414),
                        (-0.5692978297614414, 0.0, 0.5692978297614414)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]}
            },

            'diamond': {
                'shape_01': {
                    'p': [
                        (0.0, -0.2016202582919906, 0.10123448014461145),
                        (0.0, 1.425671083410407e-07, 0.30285488100370994),
                        (0.20162040085909805, 1.425671083410407e-07, 0.1012344801446119),
                        (0.0, -0.2016202582919906, 0.10123448014461145),
                        (-0.20162040085909827, 1.425671083410407e-07, 0.1012344801446119),
                        (0.0, 1.425671083410407e-07, 0.30285488100370994),
                        (0.0, 0.2016202582919897, 0.1012344801446119),
                        (-0.20162040085909827, 1.425671083410407e-07, 0.1012344801446119),
                        (0.0, 0.2016202582919897, 0.1012344801446119),
                        (0.20162040085909805, 1.425671083410407e-07, 0.1012344801446119),
                        (0.0, 1.425671083410407e-07, 0.30285488100370994),
                        (0.0, 0.2016202582919897, 0.1012344801446119),
                        (0.0, 0.2016202582919897, -0.10134995950254133),
                        (0.20162040085909805, -1.4256710922921911e-07, -0.101234480144611),
                        (0.0, -0.00011562192503866697, -0.3028548810037095),
                        (0.0, -0.2016202582919906, -0.10111900078668068),
                        (0.20162040085909805, -1.4256710922921911e-07, -0.101234480144611),
                        (0.20162040085909805, 1.425671083410407e-07, 0.1012344801446119),
                        (0.0, -0.2016202582919906, 0.10123448014461145),
                        (0.0, -0.2016202582919906, -0.10111900078668068),
                        (-0.20162040085909827, -1.4256710922921911e-07, -0.101234480144611),
                        (-0.20162040085909827, 1.425671083410407e-07, 0.1012344801446119),
                        (-0.20162040085909827, -1.4256710922921911e-07, -0.101234480144611),
                        (0.0, 0.2016202582919897, -0.10134995950254133),
                        (0.20162040085909805, -1.4256710922921911e-07, -0.101234480144611),
                        (0.0, -0.2016202582919906, -0.10111900078668068),
                        (-0.20162040085909827, -1.4256710922921911e-07, -0.101234480144611),
                        (0.0, -0.00011562192503866697, -0.3028548810037095),
                        (0.0, -0.2016202582919906, -0.10111900078668068),
                        (0.20162040085909805, -1.4256710922921911e-07, -0.101234480144611),
                        (0.0, -0.00011562192503866697, -0.3028548810037095),
                        (0.0, 0.2016202582919897, -0.10134995950254133),
                        (-0.20162040085909827, -1.4256710922921911e-07, -0.101234480144611),
                        (0.0, -0.00011562192503866697, -0.3028548810037095)],
                    'per': False,
                    'd': 1,
                    'k': [
                        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
                        16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28,
                        29, 30, 31, 32, 33]}
            },

            'fist': {
                'shape_01': {
                    'p': [
                        (-0.28323181266160297, 0.000406980572728477, 0.28089025488631625),
                        (-0.27202045445878775, 0.00040578537807589576, 0.30675169764711463),
                        (-0.16198898578534848, 0.0002959027012675586, 0.31719778364300344),
                        (-0.14166430519302461, 0.0002638997858650516, 0.2901035131433195),
                        (-0.12271829303889557, 0.00025713970399843245, 0.3220531749715917),
                        (0.02713533575627433, 9.83968965067028e-05, 0.3137370793648865),
                        (0.03176093037293855, 8.173089445495663e-05, 0.28430702611824754),
                        (0.056749199967236874, 6.637965130906753e-05, 0.3104901640897325),
                        (0.16751595847437994, -5.696587005177278e-05, 0.28944615284404496),
                        (0.18015194072999668, -8.424532602469004e-05, 0.2542955321992887),
                        (0.20724620736689808, -0.00010414314516615786, 0.27462023339664776),
                        (0.3207623415211349, -0.0002438152315058506, 0.22016395029045432),
                        (0.3173775484988463, -0.0002498677796364257, 0.1964544644419327),
                        (0.28905840272616196, -0.0002755696144985942, 0.05991811674892045),
                        (0.1866776380041197, -0.00020372807142798877, -0.025179080819704547),
                        (0.12323791549698926, -0.00013060042904178282, -0.006968376721144698),
                        (0.12676057536309723, -0.00012707216426488532, 0.010836715894581128),
                        (0.16986765604860782, -0.000134037789155661, 0.10439587509111237),
                        (0.18015194072999668, -8.424532602469004e-05, 0.2542955321992887),
                        (0.16986765604860782, -0.000134037789155661, 0.10439587509111237),
                        (0.12676057536309723, -0.00012707216426488532, 0.010836715894581128),
                        (0.09568409271402309, -0.00010228833205516707, -0.007611767142518655),
                        (0.0024926391521100932, 5.380838882240724e-06, 0.019750245463990623),
                        (0.002033083006045003, 1.3795116727499668e-05, 0.039431556239976184),
                        (0.038684305719927634, 2.2993503176693686e-05, 0.15647041899168113),
                        (0.03176093037293855, 8.173089445495663e-05, 0.28430702611824754),
                        (0.038684305719927634, 2.2993503176693686e-05, 0.15647041899168113),
                        (0.002033083006045003, 1.3795116727499668e-05, 0.039431556239976184),
                        (-0.015266488251546056, 2.4422900443799023e-05, 0.021304768413563324),
                        (-0.11010438270999656, 0.00012822436953141558, 0.03484390701821305),
                        (-0.11656024068162453, 0.0001443883808714963, 0.058323610573386975),
                        (-0.11519749470202205, 0.00018746375152134398, 0.16863086383624448),
                        (-0.1374982667224255, 0.00025564806165856435, 0.280354770672666),
                        (-0.11519749470202205, 0.00018746375152134398, 0.16863086383624448),
                        (-0.11656024068162453, 0.0001443883808714963, 0.058323610573386975),
                        (-0.13559816406496666, 0.00015283131830712282, 0.03031021090031183),
                        (-0.21780007626780026, 0.0002293533314217111, 0.008698728860205285),
                        (-0.24755180732258217, 0.00026389485997291295, 0.017850037368154714),
                        (-0.27228026568783414, 0.0003425157405972934, 0.14920929852189213),
                        (-0.28323181266160297, 0.000406980572728477, 0.28089025488631625),
                        (-0.27228026568783414, 0.0003425157405972934, 0.14920929852189213),
                        (-0.25789819488421134, 0.00029678983827530203, 0.0728107553244185),
                        (-0.2892042307992774, 0.00031225299994463995, 0.030661869279283938),
                        (-0.3242010513873258, 0.0002727632132523139, -0.1572297122659686),
                        (-0.2025287015210206, 8.579428754484919e-05, -0.307986548798482),
                        (-0.1452231476832722, 2.2940662007031598e-05, -0.31649446688505767),
                        (-0.2025287015210206, 8.579428754484919e-05, -0.307986548798482),
                        (-0.3242010513873258, 0.0002727632132523139, -0.1572297122659686),
                        (-0.2892042307992774, 0.00031225299994463995, 0.030661869279283938),
                        (-0.25789819488421134, 0.00029678983827530203, 0.0728107553244185),
                        (-0.12425690024762795, 0.0001832709423938983, 0.13494285322372146),
                        (-0.09665712185005507, 0.00015411741762272335, 0.13361811256749678),
                        (-0.0613147282718725, 8.523990354458721e-05, 0.053705998183338766),
                        (-0.0924751609208636, 7.754748923050059e-05, -0.04548181549397079),
                        (-0.2134422541094789, 0.00018357679398428584, -0.09359813071624934),
                        (-0.21421553832849324, 0.0001637219642284249, -0.14481549519248105),
                        (-0.2134422541094789, 0.00018357679398428584, -0.09359813071624934),
                        (-0.0924751609208636, 7.754748923050059e-05, -0.04548181549397079),
                        (-0.06916367857107959, 8.330227391306622e-05, 0.02872174239299352),
                        (-0.015266488251546056, 2.4422900443799023e-05, 0.021304768413563324),
                        (0.002033083006045003, 1.3795116727499668e-05, 0.039431556239976184),
                        (0.0024926391521100932, 5.380838882240724e-06, 0.019750245463990623),
                        (0.09568409271402309, -0.00010228833205516707, -0.007611767142518655),
                        (0.12676057536309723, -0.00012707216426488532, 0.010836715894581128),
                        (0.12323791549698926, -0.00013060042904178282, -0.006968376721144698),
                        (0.1866776380041197, -0.00020372807142798877, -0.025179080819704547),
                        (0.28905840272616196, -0.0002755696144985942, 0.05991811674892045),
                        (0.30292048871058846, -0.0002629886896473588, 0.1267520038623421),
                        (0.32760176686820724, -0.0003350288693079184, 0.01158801252367836),
                        (0.295951744917137, -0.00040178378217803346, -0.23530154489086097),
                        (0.20931602178536124, -0.00034612058024263703, -0.3200310907901296),
                        (0.14436772522551244, -0.0002793849230598999, -0.32154765392622486)],
                    'per': False,
                    'd': 1,
                    'k': [
                        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
                        16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29,
                        30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43,
                        44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57,
                        58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71]}
            },

            'foot': {
                'shape_01': {
                    'p': [
                        (0.4249371493353358, 4.798237340988468e-17, 0.05965626747485875),
                        (0.02479363526881334, 6.785732323110913e-17, -0.3369861890540169),
                        (-0.4476029328500644, 4.798237340988471e-17, 0.059656267474858304),
                        (-0.16523211069250432, 1.966335461618786e-32, 0.8432678923660822),
                        (-0.61616597431764, -4.7982373409884694e-17, 1.635912638052866),
                        (-0.5208473195637784, -6.785732323110915e-17, 2.405743087588424),
                        (0.606808540733522, -4.798237340988472e-17, 1.7619653609862764),
                        (0.46646824825008704, -3.644630067904792e-32, 1.2868969494440572),
                        (0.4249371493353358, 4.798237340988468e-17, 0.05965626747485875),
                        (0.02479363526881334, 6.785732323110913e-17, -0.3369861890540169),
                        (-0.4476029328500644, 4.798237340988471e-17, 0.059656267474858304)],
                    'per': False,
                    'd': 3,
                    'k': [-2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}
            },

            'move': {
                'shape_01': {
                    'p': [(-0.3839938634902286, 4.2573685351256776e-17, -0.6952810456190021),
                          (-0.4493179344379141, 4.038083501531363e-17, -0.6594690819169796),
                          (-0.5699654669930883, 3.490031924607386e-17, -0.5699654671105632),
                          (-0.6594690818169142, 2.7512788518703874e-17, -0.4493179345727984),
                          (-0.6952810454988885, 2.3512842804192566e-17, -0.38399386370932614)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 2, 2]},

                'shape_02': {
                    'p': [(-1.1519815904477793, 0.0, -0.38399386348259285),
                          (-1.1519815904477793, 0.0, -0.7679877269651857),
                          (-1.9199693174129653, 0.0, 0.0),
                          (-1.1519815904477793, 0.0, 0.7679877269651857),
                          (-1.1519815904477793, 0.0, 0.38399386348259285),
                          (-0.6952810455459, 0.0, 0.38399386348259285)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1, 2, 3, 4, 5]},

                'shape_03': {
                    'p': [(-0.6952810454988887, -2.351284280419254e-17, 0.38399386370932576),
                          (-0.6594690818169144, -2.7512788518703853e-17, 0.44931793457279806),
                          (-0.5699654670431211, -3.490031924194421e-17, 0.5699654670431209),
                          (-0.4493179345727985, -4.03808350091864e-17, 0.6594690818169142),
                          (-0.38399386370932614, -4.2573685343901955e-17, 0.6952810454988885)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 2, 2]},

                'shape_04': {
                    'p': [(0.38399386370932587, -4.257368534390195e-17, 0.6952810454988885),
                          (0.44931793457279817, -4.03808350091864e-17, 0.6594690818169143),
                          (0.5699654670431207, -3.4900319241944226e-17, 0.569965467043121),
                          (0.659469081816914, -2.7512788518703884e-17, 0.4493179345727986),
                          (0.6952810454988883, -2.3512842804192578e-17, 0.38399386370932637)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 2, 2]},

                'shape_05': {
                    'p': [(0.6952810454988887, 2.351284280419254e-17, -0.3839938637093257),
                          (0.6594690818169145, 2.751278851870385e-17, -0.44931793457279795),
                          (0.5699654670431213, 3.4900319241944195e-17, -0.5699654670431206),
                          (0.44931793457279867, 4.0380835009186384e-17, -0.659469081816914),
                          (0.38399386370932637, 4.2573685343901936e-17, -0.6952810454988883)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 2, 2]},

                'shape_06': {
                    'p': [(-0.38399386348259307, 0.0, 0.6952810455458994),
                          (-0.38399386348259307, 0.0, 1.1519815904477788),
                          (-0.7679877269651861, 0.0, 1.1519815904477788),
                          (0.0, 0.0, 1.919969317412964),
                          (0.7679877269651861, 0.0, 1.1519815904477788),
                          (0.38399386348259307, 0.0, 1.1519815904477788),
                          (0.38399386348259307, 0.0, 0.6952810463138872)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1, 2, 3, 4, 5, 6]},

                'shape_07': {
                    'p': [(0.6952810463138878, 0.0, 0.38399386348259285),
                          (1.1519815904477793, 0.0, 0.38399386348259285),
                          (1.1519815904477793, 0.0, 0.7679877269651857),
                          (1.9199693174129653, 0.0, 0.0),
                          (1.1519815904477793, 0.0, -0.7679877269651857),
                          (1.1519815904477793, 0.0, -0.38399386348259285),
                          (0.6952810463138878, 0.0, -0.38399386348259285)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1, 2, 3, 4, 5, 6]},

                'shape_08': {
                    'p': [(0.38399386348259307, 0.0, -0.6952810463138872),
                          (0.38399386348259307, 0.0, -1.1519815904477788),
                          (0.7679877269651861, 0.0, -1.1519815904477788),
                          (0.0, 0.0, -1.919969317412964),
                          (-0.7679877269651861, 0.0, -1.1519815904477788),
                          (-0.38399386348259307, 0.0, -1.1519815904477788),
                          (-0.38399386348259307, 0.0, -0.6952810463138872)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1, 2, 3, 4, 5, 6]},

                'shape_09': {
                    'p': [(-0.6952810463138878, 0.0, -0.38399386348259285),
                          (-1.1519815904477793, 0.0, -0.38399386348259285)],
                    'per': False,
                    'd': 1,
                    'k': [0, 1]}
            },

            'rotation': {
                'shape_01': {
                    'p': [(0.33587352900359235, 3.552713678800501e-15, 0.7361468691490706),
                          (0.4304251528553422, 0.03022134593976844, 0.6908148502394227),
                          (0.5107046042608197, 0.07247276978952044, 0.6274377144647979),
                          (0.5684975545498538, 0.12400997464880348, 0.5501319071758723),
                          (0.5684975545498538, 0.12400997464880348, 0.5501319071758723),
                          (0.5684975545498538, 0.12400997464880348, 0.5501319071758723),
                          (0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (0.5402530010360955, 0.08197748359885182, 0.5946770761304137),
                          (0.4852738226242117, 0.0455134352238602, 0.6467685738089757),
                          (0.41921829926566545, 0.015501246831103543, 0.6896431286557706),
                          (0.41921829926566545, 0.015501246831103543, 0.6896431286557706),
                          (0.41921829926566545, 0.015501246831103543, 0.6896431286557706),
                          (0.7077292503941841, 0.015501246831103543, 0.43808875481816606),
                          (0.8080009216827335, 0.015501246831103543, -0.016811817720621902),
                          (0.6943482219457628, 0.015501246831103543, -0.34108941639861884),
                          (0.5527220271320097, 0.015501246831103543, -0.5148315398676033),
                          (0.33489352471512746, 0.015501246831103543, -0.6771644412642893),
                          (0.17585601860228905, 0.015501246831103543, -0.7201406688717121),
                          (0.015501247071298963, 0.015501246831103543, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_02': {
                    'p': [(0.33587352900359235, -3.552713678800501e-15, 0.7361468691490706),
                          (0.4304251528553422, -0.03022134593976844, 0.6908148502394227),
                          (0.5107046042608197, -0.07247276978952044, 0.6274377144647979),
                          (0.5684975545498538, -0.12400997464880348, 0.5501319071758723),
                          (0.5684975545498538, -0.12400997464880348, 0.5501319071758723),
                          (0.5684975545498538, -0.12400997464880348, 0.5501319071758723),
                          (0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (0.5402530010360955, -0.08197748359885182, 0.5946770761304137),
                          (0.4852738226242117, -0.0455134352238602, 0.6467685738089757),
                          (0.41921829926566545, -0.015501246831103543, 0.6896431286557706),
                          (0.41921829926566545, -0.015501246831103543, 0.6896431286557706),
                          (0.41921829926566545, -0.015501246831103543, 0.6896431286557706),
                          (0.7077292503941841, -0.015501246831103543, 0.43808875481816606),
                          (0.8080009216827335, -0.015501246831103543, -0.016811817720621902),
                          (0.6943482219457628, -0.015501246831103543, -0.34108941639861884),
                          (0.5527220271320097, -0.015501246831103543, -0.5148315398676033),
                          (0.33489352471512746, -0.015501246831103543, -0.6771644412642893),
                          (0.17585601860228905, -0.015501246831103543, -0.7201406688717121),
                          (0.015501247071298963, -0.015501246831103543, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_03': {
                    'p': [(-0.33587352900359235, 3.552713678800501e-15, 0.7361468691490706),
                          (-0.4304251528553422, 0.03022134593976844, 0.6908148502394227),
                          (-0.5107046042608197, 0.07247276978952044, 0.6274377144647979),
                          (-0.5684975545498538, 0.12400997464880348, 0.5501319071758723),
                          (-0.5684975545498538, 0.12400997464880348, 0.5501319071758723),
                          (-0.5684975545498538, 0.12400997464880348, 0.5501319071758723),
                          (-0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (-0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (-0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (-0.5819931861859438, 0.12400997464880348, 0.5346306603447717),
                          (-0.5402530010360955, 0.08197748359885182, 0.5946770761304137),
                          (-0.4852738226242117, 0.0455134352238602, 0.6467685738089757),
                          (-0.41921829926566545, 0.015501246831103543, 0.6896431286557706),
                          (-0.41921829926566545, 0.015501246831103543, 0.6896431286557706),
                          (-0.41921829926566545, 0.015501246831103543, 0.6896431286557706),
                          (-0.7077292503941841, 0.015501246831103543, 0.43808875481816606),
                          (-0.8080009216827335, 0.015501246831103543, -0.016811817720621902),
                          (-0.6943482219457628, 0.015501246831103543, -0.34108941639861884),
                          (-0.5527220271320097, 0.015501246831103543, -0.5148315398676033),
                          (-0.33489352471512746, 0.015501246831103543, -0.6771644412642893),
                          (-0.17585601860228905, 0.015501246831103543, -0.7201406688717121),
                          (-0.015501247071298963, 0.015501246831103543, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_04': {
                    'p': [(-0.33587352900359235, -3.552713678800501e-15, 0.7361468691490706),
                          (-0.4304251528553422, -0.03022134593976844, 0.6908148502394227),
                          (-0.5107046042608197, -0.07247276978952044, 0.6274377144647979),
                          (-0.5684975545498538, -0.12400997464880348, 0.5501319071758723),
                          (-0.5684975545498538, -0.12400997464880348, 0.5501319071758723),
                          (-0.5684975545498538, -0.12400997464880348, 0.5501319071758723),
                          (-0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (-0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (-0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (-0.5819931861859438, -0.12400997464880348, 0.5346306603447717),
                          (-0.5402530010360955, -0.08197748359885182, 0.5946770761304137),
                          (-0.4852738226242117, -0.0455134352238602, 0.6467685738089757),
                          (-0.41921829926566545, -0.015501246831103543, 0.6896431286557706),
                          (-0.41921829926566545, -0.015501246831103543, 0.6896431286557706),
                          (-0.41921829926566545, -0.015501246831103543, 0.6896431286557706),
                          (-0.7077292503941841, -0.015501246831103543, 0.43808875481816606),
                          (-0.8080009216827335, -0.015501246831103543, -0.016811817720621902),
                          (-0.6943482219457628, -0.015501246831103543, -0.34108941639861884),
                          (-0.5527220271320097, -0.015501246831103543, -0.5148315398676033),
                          (-0.33489352471512746, -0.015501246831103543, -0.6771644412642893),
                          (-0.17585601860228905, -0.015501246831103543, -0.7201406688717121),
                          (-0.015501247071298963, -0.015501246831103543, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_05': {
                    'p': [(-7.105427357601002e-15, -0.3358735290035888, 0.7361468691490706),
                          (-0.030221345939771993, -0.43042515285533867, 0.6908148502394227),
                          (-0.072472769789524, -0.5107046042608161, 0.6274377144647979),
                          (-0.12400997464880703, -0.5684975545498503, 0.5501319071758723),
                          (-0.12400997464880703, -0.5684975545498503, 0.5501319071758723),
                          (-0.12400997464880703, -0.5684975545498503, 0.5501319071758723),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.08197748359885537, -0.540253001036092, 0.5946770761304137),
                          (-0.04551343522386375, -0.48527382262420815, 0.6467685738089757),
                          (-0.015501246831107096, -0.4192182992656619, 0.6896431286557706),
                          (-0.015501246831107096, -0.4192182992656619, 0.6896431286557706),
                          (-0.015501246831107096, -0.4192182992656619, 0.6896431286557706),
                          (-0.015501246831107096, -0.7077292503941806, 0.43808875481816606),
                          (-0.015501246831107096, -0.80800092168273, -0.016811817720621902),
                          (-0.015501246831107096, -0.6943482219457593, -0.34108941639861884),
                          (-0.015501246831107096, -0.5527220271320061, -0.5148315398676033),
                          (-0.015501246831107096, -0.3348935247151239, -0.6771644412642893),
                          (-0.015501246831107096, -0.1758560186022855, -0.7201406688717121),
                          (-0.015501246831107096, -0.01550124707129541, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_06': {
                    'p': [(3.552713678800501e-15, -0.3358735290035959, 0.7361468691490706),
                          (0.03022134593976844, -0.43042515285534577, 0.6908148502394227),
                          (0.07247276978952044, -0.5107046042608232, 0.6274377144647979),
                          (0.12400997464880348, -0.5684975545498574, 0.5501319071758723),
                          (0.12400997464880348, -0.5684975545498574, 0.5501319071758723),
                          (0.12400997464880348, -0.5684975545498574, 0.5501319071758723),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.08197748359885182, -0.5402530010360991, 0.5946770761304137),
                          (0.0455134352238602, -0.48527382262421526, 0.6467685738089757),
                          (0.015501246831103543, -0.419218299265669, 0.6896431286557706),
                          (0.015501246831103543, -0.419218299265669, 0.6896431286557706),
                          (0.015501246831103543, -0.419218299265669, 0.6896431286557706),
                          (0.015501246831103543, -0.7077292503941877, 0.43808875481816606),
                          (0.015501246831103543, -0.8080009216827371, -0.016811817720621902),
                          (0.015501246831103543, -0.6943482219457664, -0.34108941639861884),
                          (0.015501246831103543, -0.5527220271320132, -0.5148315398676033),
                          (0.015501246831103543, -0.334893524715131, -0.6771644412642893),
                          (0.015501246831103543, -0.1758560186022926, -0.7201406688717121),
                          (0.015501246831103543, -0.015501247071302515, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_07': {
                    'p': [(0.0, 0.33587352900359235, 0.7361468691490706),
                          (-0.030221345939764888, 0.4304251528553422, 0.6908148502394227),
                          (-0.07247276978951689, 0.5107046042608197, 0.6274377144647979),
                          (-0.12400997464879993, 0.5684975545498538, 0.5501319071758723),
                          (-0.12400997464879993, 0.5684975545498538, 0.5501319071758723),
                          (-0.12400997464879993, 0.5684975545498538, 0.5501319071758723),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.08197748359884827, 0.5402530010360955, 0.5946770761304137),
                          (-0.045513435223856646, 0.4852738226242117, 0.6467685738089757),
                          (-0.01550124683109999, 0.41921829926566545, 0.6896431286557706),
                          (-0.01550124683109999, 0.41921829926566545, 0.6896431286557706),
                          (-0.01550124683109999, 0.41921829926566545, 0.6896431286557706),
                          (-0.01550124683109999, 0.7077292503941841, 0.43808875481816606),
                          (-0.01550124683109999, 0.8080009216827335, -0.016811817720621902),
                          (-0.01550124683109999, 0.6943482219457628, -0.34108941639861884),
                          (-0.01550124683109999, 0.5527220271320097, -0.5148315398676033),
                          (-0.01550124683109999, 0.33489352471512746, -0.6771644412642893),
                          (-0.01550124683109999, 0.17585601860228905, -0.7201406688717121),
                          (-0.01550124683109999, 0.015501247071298963, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_08': {
                    'p': [(3.552713678800501e-15, 0.33587352900359235, 0.7361468691490706),
                          (0.03022134593976844, 0.4304251528553422, 0.6908148502394227),
                          (0.07247276978952044, 0.5107046042608197, 0.6274377144647979),
                          (0.12400997464880348, 0.5684975545498538, 0.5501319071758723),
                          (0.12400997464880348, 0.5684975545498538, 0.5501319071758723),
                          (0.12400997464880348, 0.5684975545498538, 0.5501319071758723),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.08197748359885182, 0.5402530010360955, 0.5946770761304137),
                          (0.0455134352238602, 0.4852738226242117, 0.6467685738089757),
                          (0.015501246831103543, 0.41921829926566545, 0.6896431286557706),
                          (0.015501246831103543, 0.41921829926566545, 0.6896431286557706),
                          (0.015501246831103543, 0.41921829926566545, 0.6896431286557706),
                          (0.015501246831103543, 0.7077292503941841, 0.43808875481816606),
                          (0.015501246831103543, 0.8080009216827335, -0.016811817720621902),
                          (0.015501246831103543, 0.6943482219457628, -0.34108941639861884),
                          (0.015501246831103543, 0.5527220271320097, -0.5148315398676033),
                          (0.015501246831103543, 0.33489352471512746, -0.6771644412642893),
                          (0.015501246831103543, 0.17585601860228905, -0.7201406688717121),
                          (0.015501246831103543, 0.015501247071298963, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]}
            },

            'single_rotate': {
                'shape_01': {
                    'p': [(-7.105427357601002e-15, -0.3358735290035888, 0.7361468691490706),
                          (-0.030221345939771993, -0.43042515285533867, 0.6908148502394227),
                          (-0.072472769789524, -0.5107046042608161, 0.6274377144647979),
                          (-0.12400997464880703, -0.5684975545498503, 0.5501319071758723),
                          (-0.12400997464880703, -0.5684975545498503, 0.5501319071758723),
                          (-0.12400997464880703, -0.5684975545498503, 0.5501319071758723),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.12400997464880703, -0.5819931861859402, 0.5346306603447717),
                          (-0.08197748359885537, -0.540253001036092, 0.5946770761304137),
                          (-0.04551343522386375, -0.48527382262420815, 0.6467685738089758),
                          (-0.015501246831107096, -0.4192182992656619, 0.6896431286557706),
                          (-0.015501246831107096, -0.4192182992656619, 0.6896431286557706),
                          (-0.015501246831107096, -0.4192182992656619, 0.6896431286557706),
                          (-0.015501246831107096, -0.7077292503941806, 0.43808875481816606),
                          (-0.015501246831107096, -0.80800092168273, -0.016811817720621902),
                          (-0.015501246831107096, -0.6943482219457593, -0.34108941639861884),
                          (-0.015501246831107096, -0.5527220271320061, -0.5148315398676033),
                          (-0.015501246831107096, -0.3348935247151239, -0.6771644412642893),
                          (-0.015501246831107096, -0.1758560186022855, -0.7361468691392242),
                          (-0.015501246831107096, -7.844604263429887e-05, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_02': {
                    'p': [(3.552713678800501e-15, -0.3358735290035959, 0.7361468691490706),
                          (0.03022134593976844, -0.43042515285534577, 0.6908148502394227),
                          (0.07247276978952044, -0.5107046042608232, 0.6274377144647979),
                          (0.12400997464880348, -0.5684975545498574, 0.5501319071758723),
                          (0.12400997464880348, -0.5684975545498574, 0.5501319071758723),
                          (0.12400997464880348, -0.5684975545498574, 0.5501319071758723),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.12400997464880348, -0.5819931861859473, 0.5346306603447717),
                          (0.08197748359885182, -0.5402530010360991, 0.5946770761304137),
                          (0.0455134352238602, -0.48527382262421526, 0.6467685738089758),
                          (0.015501246831103543, -0.419218299265669, 0.6896431286557706),
                          (0.015501246831103543, -0.419218299265669, 0.6896431286557706),
                          (0.015501246831103543, -0.419218299265669, 0.6896431286557706),
                          (0.015501246831103543, -0.7077292503941877, 0.43808875481816606),
                          (0.015501246831103543, -0.8080009216827371, -0.016811817720621902),
                          (0.015501246831103543, -0.6943482219457664, -0.34108941639861884),
                          (0.015501246831103543, -0.5527220271320132, -0.5148315398676033),
                          (0.015501246831103543, -0.334893524715131, -0.6771644412642893),
                          (0.015501246831103543, -0.1758560186022926, -0.7361468691392242),
                          (0.015501246831103543, -7.844604263433487e-05, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_03': {
                    'p': [(0.0, 0.33587352900359235, 0.7361468691490706),
                          (-0.030221345939764888, 0.4304251528553422, 0.6908148502394227),
                          (-0.07247276978951689, 0.5107046042608197, 0.6274377144647979),
                          (-0.12400997464879993, 0.5684975545498538, 0.5501319071758723),
                          (-0.12400997464879993, 0.5684975545498538, 0.5501319071758723),
                          (-0.12400997464879993, 0.5684975545498538, 0.5501319071758723),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.12400997464879993, 0.5819931861859438, 0.5346306603447717),
                          (-0.08197748359884827, 0.5402530010360955, 0.5946770761304137),
                          (-0.045513435223856646, 0.4852738226242117, 0.6467685738089758),
                          (-0.01550124683109999, 0.41921829926566545, 0.6896431286557706),
                          (-0.01550124683109999, 0.41921829926566545, 0.6896431286557706),
                          (-0.01550124683109999, 0.41921829926566545, 0.6896431286557706),
                          (-0.01550124683109999, 0.7077292503941841, 0.43808875481816606),
                          (-0.01550124683109999, 0.8080009216827335, -0.016811817720621902),
                          (-0.01550124683109999, 0.6943482219457628, -0.34108941639861884),
                          (-0.01550124683109999, 0.5527220271320097, -0.5148315398676033),
                          (-0.01550124683109999, 0.33489352471512746, -0.6771644412642893),
                          (-0.01550124683109999, 0.17585601860228905, -0.7361468691392242),
                          (-0.01550124683109999, 7.844604263078215e-05, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]},

                'shape_04': {
                    'p': [(3.552713678800501e-15, 0.33587352900359235, 0.7361468691490706),
                          (0.03022134593976844, 0.4304251528553422, 0.6908148502394227),
                          (0.07247276978952044, 0.5107046042608197, 0.6274377144647979),
                          (0.12400997464880348, 0.5684975545498538, 0.5501319071758723),
                          (0.12400997464880348, 0.5684975545498538, 0.5501319071758723),
                          (0.12400997464880348, 0.5684975545498538, 0.5501319071758723),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.12400997464880348, 0.5819931861859438, 0.5346306603447717),
                          (0.08197748359885182, 0.5402530010360955, 0.5946770761304137),
                          (0.0455134352238602, 0.4852738226242117, 0.6467685738089758),
                          (0.015501246831103543, 0.41921829926566545, 0.6896431286557706),
                          (0.015501246831103543, 0.41921829926566545, 0.6896431286557706),
                          (0.015501246831103543, 0.41921829926566545, 0.6896431286557706),
                          (0.015501246831103543, 0.7077292503941841, 0.43808875481816606),
                          (0.015501246831103543, 0.8080009216827335, -0.016811817720621902),
                          (0.015501246831103543, 0.6943482219457628, -0.34108941639861884),
                          (0.015501246831103543, 0.5527220271320097, -0.5148315398676033),
                          (0.015501246831103543, 0.33489352471512746, -0.6771644412642893),
                          (0.015501246831103543, 0.17585601860228905, -0.7361468691392242),
                          (0.015501246831103543, 7.844604263078215e-05, -0.7361468691392242)],
                    'per': False,
                    'd': 3,
                    'k': [0, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
                          11, 12, 13, 14, 15, 16, 17, 18, 19, 19, 19]}
            },

            'sphere': {
                'shape_01': {
                    'p': [(0.783611624891225, 0.0, -0.7836116248912237),
                          (-1.2643170607829324e-16, 0.0, -1.1081941875543877),
                          (-0.7836116248912243, 0.0, -0.7836116248912242),
                          (-1.108194187554388, 0.0, 0.0),
                          (-0.7836116248912245, 0.0, 0.7836116248912237),
                          (-3.3392053635905195e-16, 0.0, 1.1081941875543881),
                          (0.7836116248912238, 0.0, 0.7836116248912246),
                          (1.108194187554388, 0.0, 8.881784197001252e-16),
                          (0.783611624891225, 0.0, -0.7836116248912237),
                          (-1.2643170607829324e-16, 0.0, -1.1081941875543877),
                          (-0.7836116248912243, 0.0, -0.7836116248912242)],
                    'per': True,
                    'd': 3,
                    'k': [-2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]},

                'shape_02': {
                    'p': [(0.783611624891225, 0.7836116248912219, 0.0),
                          (-1.2643170607829324e-16, 1.1081941875543748, 0.0),
                          (-0.7836116248912243, 0.7836116248912219, 0.0),
                          (-1.108194187554388, 0.0, 0.0),
                          (-0.7836116248912245, -0.7836116248912219, 0.0),
                          (-3.3392053635905195e-16, -1.1081941875543748, 0.0),
                          (0.7836116248912238, -0.7836116248912219, 0.0),
                          (1.108194187554388, 0.0, 0.0),
                          (0.783611624891225, 0.7836116248912219, 0.0),
                          (-1.2643170607829324e-16, 1.1081941875543748, 0.0),
                          (-0.7836116248912243, 0.7836116248912219, 0.0)],
                    'per': True,
                    'd': 3,
                    'k': [-2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]},

                'shape_03': {
                    'p': [(1.260143602537496e-16, 0.7836116248912219, -0.7836116248912237),
                          (-6.785732323110916e-17, 0.0, -1.1081941875543877),
                          (-2.219791070735184e-16, -0.7836116248912219, -0.7836116248912242),
                          (-2.4606854055572997e-16, -1.1081941875543748, 0.0),
                          (-1.260143602537492e-16, -0.7836116248912219, 0.7836116248912237),
                          (6.785732323110876e-17, 0.0, 1.1081941875543881),
                          (2.219791070735184e-16, 0.7836116248912219, 0.7836116248912246),
                          (2.4606854055573036e-16, 1.1081941875543748, 8.881784197001252e-16),
                          (1.260143602537496e-16, 0.7836116248912219, -0.7836116248912237),
                          (-6.785732323110916e-17, 0.0, -1.1081941875543877),
                          (-2.219791070735184e-16, -0.7836116248912219, -0.7836116248912242)],
                    'per': True,
                    'd': 3,
                    'k': [-2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]},

                # 'shape_00': {
                #     'p': [],
                #     'per': False,
                #     'd': 1,
                #     'k': []},

            }
        }

        self.name_component_list = [item for item in [prefix, name, index, suffix] if item]
        self.name = '_'.join(self.name_component_list)

        self.shape_type = 'cube'
        self.transform = build_curve_from_data(self.curve_dict[self.shape_type], self.name)

    def change_type(self):
        temp_transform = build_curve_from_data(self.curve_dict[self.shape_type], self.name)
        replace_shapes(self.transform, temp_transform)

    def set_name(self, name):
        self.name = name
        pm.rename(self.transform, self.name)

    def get_name(self):
        return self.name

    def set_type_arrow(self):
        self.shape_type = 'arrow'
        self.change_type()

    def set_type_cross(self):
        self.shape_type = 'cross'
        self.change_type()

    def set_type_crown(self):
        self.shape_type = 'crown'
        self.change_type()

    def set_type_cube(self):
        self.shape_type = 'cube'
        self.change_type()

    def set_type_cube_on_base(self):
        self.shape_type = 'cube_on_base'
        self.change_type()

    def set_type_diamond(self):
        self.shape_type = 'diamond'
        self.change_type()

    def set_type_fist(self):
        self.shape_type = 'fist'
        self.change_type()

    def set_type_foot(self):
        self.shape_type = 'foot'
        self.change_type()

    def set_type_move(self):
        self.shape_type = 'move'
        self.change_type()

    def set_type_rotation(self):
        self.shape_type = 'rotation'
        self.change_type()

    def set_type_single_rotate(self):
        self.shape_type = 'single_rotate'
        self.change_type()

    def set_type_sphere(self):
        self.shape_type = 'sphere'
        self.change_type()

    def set_shape_rotate(self, ro=(0, 0, 0)):
        temp_transform = pm.group(name='temp_transform', empty=True)
        temp_transform.setRotation(ro, ws=True)

        pm.parent(self.transform.listRelatives(shapes=True),
                  temp_transform, r=True, s=True)
        transfer_shape_obj(temp_transform, self.transform)

    def set_shape_translation(self, t=(0, 0, 0)):
        pass

    def set_shape_scale(self, s=(1, 1, 1)):
        pass

    def shape_set_position(self, **kwargs):
        pass

    def shape_match_position(self, target, **kwargs):
        temp_transform = pm.group(name='temp_transform', empty=True)

        if 't' in kwargs:
            temp_transform.setTranslation(target.getTranslation(ws=True), ws=True)
        if 'r' in kwargs:
            temp_transform.setRotation(target.getRotation(ws=True), ws=True)
        if 's' in kwargs:
            temp_transform.setScale(target.getScale())

        pm.parent(self.transform.listRelatives(shapes=True),
                  temp_transform, r=True, s=True)
        transfer_shape_obj(temp_transform, self.transform)

    def set_color_red(self):
        pass

    def set_color_green(self):
        pass

    def set_color_blue(self):
        pass

    def set_color_yellow(self):
        pass

    def set_color_purple(self):
        pass

    def set_color_rgb(self):
        pass

    def get_transform_obj(self):
        return self.transform

    def get_transform_name(self):
        pass

    def get_shape_list(self):
        return self.transform.listRelatives(shapes=True)

    def get_type_data(self):
        return self.curve_dict[self.shape_type]

    def add_top_grp(self):
        pass

    def add_offset_grp(self):
        new_grp = pm.group(n='{}_{}_grp'.format(self.name, self.group_index))
        pass

    def export_curves_to_json(self):
        pass


def replace_shapes(target_transform_obj, temp_transform_obj):
    """
    Removes shapes from target transform and replaces it with provided shapes list
    :param target_transform_obj:
    :param temp_transform_obj:
    :return:
    """
    target_shapes = target_transform_obj.listRelatives(s=1)
    pm.delete(target_shapes)

    shapes = temp_transform_obj.listRelatives(shapes=True)
    pm.parent(shapes, target_transform_obj, r=True, shape=True)
    pm.delete(temp_transform_obj)


def transfer_shape(shape, new_parent):
    """
    Transfers shape to new transform parent maintaining the shape offset
    :param shape:
    :param new_parent:
    :return:
    """
    # Store CV World Position
    cv_name_list = mc.getAttr(shape + '.cp', multiIndices=True)
    cv_position_list = []

    for cv_name in cv_name_list:
        cv_position = mc.xform('{}.cp[{}]'.format(shape, cv_name),
                               query=True, translation=True, worldSpace=True)
        cv_position_list.append(cv_position)

    # Parent the shapeNode
    mc.parent(shape, new_parent, r=True, s=True)

    # Restore the world position
    for cv_name in cv_name_list:
        mc.xform('{}.cp[{}]'.format(shape, cv_name), a=True,
                 worldSpace=True, t=cv_position_list[cv_name])


def transfer_shape_obj(temp_transform, target_transform):
    """
    Transfers shape to new transform parent maintaining the shape world position
    :param temp_transform:
    :param target_transform:
    :return:
    """
    temp_transform_shapes = temp_transform.listRelatives(shapes=True)
    shapes_data_dict = {}

    # stores all shapes cp translation data
    for shape in temp_transform_shapes:
        control_points = pm.getAttr(shape.cp, multiIndices=True)
        shapes_data_dict[shape] = {'cp': control_points,
                                   'cp_translate': {}}
        for cp in shapes_data_dict[shape]['cp']:
            cp_translate = pm.xform(shape.cp[cp], q=True, t=True, ws=True)
            shapes_data_dict[shape]['cp_translate'].update({cp: cp_translate})

    # Parent the shapeNode
    pm.parent(temp_transform_shapes, target_transform, r=True, s=True)
    pm.delete(temp_transform)

    # Restore shapes world position
    for shape in temp_transform_shapes:
        for cp in shapes_data_dict[shape]['cp']:
            pm.xform(shape.cp[cp], a=True, ws=True,
                     t=shapes_data_dict[shape]['cp_translate'][cp])


def build_curve_from_data(curve_data, name):
    """
    Creates multiple shapes based on data and parents under one curve transform
    :param curve_data: dictionary with date to build multiple shape curve
    :key 'shapes': Iterable, dictionary with data to build one curve
    :key 'p': Used by curve cmds, list of all points to compose one curve
    :key 'per': boolean - Periodic, used by curve cmds
    :key 'd': int - Degrees, used by curve command
    :key 'k': list - Knots, used by curve command
    :param name:
    :return curve transform: multi shape curve
    """
    transform_list = []
    shape_list = []

    for shape_data in curve_data:
        curve = pm.curve(p=curve_data[shape_data]['p'], per=curve_data[shape_data]['per'],
                         d=curve_data[shape_data]['d'], k=curve_data[shape_data]['k'])
        shapes = curve.listRelatives(s=1)
        transform_list.append(curve)
        shape_list.append(shapes)

    output_transform = pm.group(n=name, em=1)
    pm.parent(shape_list, output_transform, r=True, shape=True)
    pm.delete(transform_list)
    pm.select(clear=True)

    return output_transform


def set_curve_color(curve, color=(1, 1, 1)):
    shapes = curve.listRelatives(shapes=True)

    for shape in shapes:
        pm.setAttr(shape.overrideEnabled, 1)
        pm.setAttr(shape.overrideRGBColors, 1)

        for channel, color in zip('RGB', color):
            pm.setAttr("{}.overrideColor{}".format(curve, channel), color)


def decompose_curve_to_data(target):
    transform = pm.PyNode(target)
    shapes = transform.listRelatives(shapes=True)
    return shapes
